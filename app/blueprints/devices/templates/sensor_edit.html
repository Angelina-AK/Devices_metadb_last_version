{% extends 'indexleo.html' %}

{% block content %}

  {% if sensor is defined %}

  <div class="card p-4 max-w-2xl">

    <form method="post">
      <div class="mb-3 flex h-8 items-center justify-between">
        <h2 class="font-medium tracking-wide text-slate-700 line-clamp-1 dark:text-navy-100 lg:text-base">
            Sensor edit
        </h2>
      </div>

      <div class="space-y-2">
        <label class="block">
          <span>Created:</span>
          <input
          class="form-input w-full mt-1.5 rounded-lg border border-slate-300 bg-transparent px-3 py-2 placeholder:text-slate-400/70 hover:border-slate-400 focus:border-primary dark:border-navy-450 dark:hover:border-navy-400 dark:focus:border-accent"
          placeholder="Sensor name"
          autocomplete="off"
          type="text"
          value="{{ sensor['created'] or request.form['created']}}"
          disabled
          />
        </label>
  
        <label class="block">
          <span>Sensor name:</span>
          <input
          class="form-input w-full mt-1.5 rounded-lg border border-slate-300 bg-transparent px-3 py-2 placeholder:text-slate-400/70 hover:border-slate-400 focus:border-primary dark:border-navy-450 dark:hover:border-navy-400 dark:focus:border-accent"
          placeholder="Sensor name"
          autocomplete="off"
          type="text"
          name="name"
          value="{{ sensor['name'] or request.form['name'] }}"
          />
        </label>
  
        <label class="block">
          <span>Description:</span>
          <input
          class="form-input w-full mt-1.5 rounded-lg border border-slate-300 bg-transparent px-3 py-2 placeholder:text-slate-400/70 hover:border-slate-400 focus:border-primary dark:border-navy-450 dark:hover:border-navy-400 dark:focus:border-accent"
          placeholder="Description"
          autocomplete="off"
          type="text"
          name="description"
          value="{{ sensor['description'] or request.form['description'] }}"
          />
        </label>
  
        <label class="block">
          <span>Decode_key:</span>
          <input
          class="form-input w-full mt-1.5 rounded-lg border border-slate-300 bg-transparent px-3 py-2 placeholder:text-slate-400/70 hover:border-slate-400 focus:border-primary dark:border-navy-450 dark:hover:border-navy-400 dark:focus:border-accent"
          placeholder="Decode_key"
          autocomplete="off"
          type="text"
          name="decode_key"
          value="{{ request.form['decode_key'] }}"
          />
        </label>
  
        <div class="flex flex-col items-center mt-3 space-y-2" id="top-level-wrapper">
          <button type="submit" class="btn btn-primary btn-padding-x3-y2 ">Submit</button>
        </div>
      </div>
    </form>

    <div class="flex flex-col items-center mt-3 space-y-2" id="top-level-wrapper">
      <form action="{{ url_for('devices_api.device_sensor_remove', id=sensor['id']) }}" method="POST">
        <button type="submit" class="btn btn-error btn-padding-x3-y2" onclick="return confirm('Are you sure you want to delete this sensor?')">Remove sensor</button>
      </form>
    </div>
  </div>

  {% else %}

    <form method="POST" class="card p-4 max-w-2xl">

      <div class="mb-3 flex h-8 items-center justify-between">
        <h2 class="font-medium tracking-wide text-slate-700 line-clamp-1 dark:text-navy-100 lg:text-base">
            Sensor create
        </h2>
      </div>

      <div class="space-y-2">
        <label class="block">
          <span>Sensor name:</span>
          <input
          class="form-input w-full mt-1.5 rounded-lg border border-slate-300 bg-transparent px-3 py-2 placeholder:text-slate-400/70 hover:border-slate-400 focus:border-primary dark:border-navy-450 dark:hover:border-navy-400 dark:focus:border-accent"
          placeholder="Sensor name"
          autocomplete="off"
          type="text"
          name="name"
          value="{{ request.form['name'] }}"
          />
        </label>
  
        <label class="block">
          <span>Description:</span>
          <input
          class="form-input w-full mt-1.5 rounded-lg border border-slate-300 bg-transparent px-3 py-2 placeholder:text-slate-400/70 hover:border-slate-400 focus:border-primary dark:border-navy-450 dark:hover:border-navy-400 dark:focus:border-accent"
          placeholder="Description"
          autocomplete="off"
          type="text"
          name="description"
          value="{{ request.form['description'] }}"
          />
        </label>
  
        <label class="block">
          <span>Decode_key:</span>
          <input
          class="form-input w-full mt-1.5 rounded-lg border border-slate-300 bg-transparent px-3 py-2 placeholder:text-slate-400/70 hover:border-slate-400 focus:border-primary dark:border-navy-450 dark:hover:border-navy-400 dark:focus:border-accent"
          placeholder="Decode_key"
          autocomplete="off"
          type="text"
          name="decode_key"
          value="{{ request.form['decode_key'] }}"
          />
        </label>
  
        <div class="flex flex-col items-center mt-3" id="top-level-wrapper">
          <button type="submit" class="btn btn-primary btn-padding-x3-y2 ">Submit</button>
        </div>
      </div>
      
    </form>

  {% endif %}

{% endblock %}